# 项目文档规范

## 模块文档约定

### 基本原则

1. **每个功能模块必须包含 README.md**
   - 位置：模块目录下（如 `commonlib/mcp/README.md`）
   - 内容：技术细节、业务细节、使用示例

2. **代码与文档同步更新**
   - 每次修改业务模块后，必须更新对应的 README.md
   - 确保文档反映最新的实现状态

3. **模块划分原则**
   - 按功能模块划分，每个模块独立目录
   - 模块职责清晰，边界明确

### README.md 应包含的内容

#### 技术细节
- 实现原理和架构设计
- 技术选型和原因
- 核心概念和接口设计
- 数据结构和算法说明

#### 业务细节
- 业务逻辑和流程
- 使用场景和案例
- 配置说明
- 错误处理和异常情况

#### 使用示例
- 基本使用方式
- 代码示例
- 最佳实践
- 常见问题解答

### 文档维护流程

```
修改代码
    ↓
检查是否需要更新文档
    ↓
更新 README.md
    ↓
验证文档准确性
    ↓
提交代码和文档
```

### 文档更新检查清单

在提交代码前，确认：

- [ ] 新增功能已在 README 中说明
- [ ] API 变更已在 README 中更新
- [ ] 使用示例仍然正确
- [ ] 技术细节反映最新实现
- [ ] 注意事项已更新
- [ ] 配置说明已更新（如适用）

### 模块文档示例

参考以下模块的 README 作为标准：

- **`commonlib/mcp/README.md`**
  - 完整的协议说明
  - 连接流程详解
  - 多种使用场景示例
  - 错误处理说明

- **`commonlib/pool/README.md`**
  - 核心概念说明
  - 使用方式示例
  - 支持的 Worker 类型

- **`commonlib/log/README.md`**
  - 技术选型说明
  - 实现特性详解
  - 配置示例

### 当前文档状态

#### CommonLib 模块

- ✅ `commonlib/log/README.md` - 日志库实现说明
- ✅ `commonlib/pool/README.md` - 通用池化技术文档
- ✅ `commonlib/mcp/README.md` - MCP 协议实现文档
- ⚠️ `commonlib/actor/` - 待补充文档
- ⚠️ `commonlib/config/` - 待补充文档
- ⚠️ `commonlib/llm/` - 待补充文档
- ⚠️ `commonlib/snowflake/` - 待补充文档

### 注意事项

1. **文档是代码的一部分**：好的文档能帮助团队理解和维护代码
2. **及时更新**：代码变更时立即更新文档，避免文档滞后
3. **清晰简洁**：文档应该清晰、简洁，便于理解
4. **示例优先**：提供实际可运行的代码示例
5. **持续改进**：根据反馈不断改进文档质量



