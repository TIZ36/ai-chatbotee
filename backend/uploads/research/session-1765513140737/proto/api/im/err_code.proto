syntax = "proto3";

package im;
option go_package = "./;pb_gen";
enum PBErrCode {
  EC_SUCCESS                                  = 0;

  EC_PARAM_INVALID                            = 1000; //客户端参数错误
  EC_MSG_NOT_EXIST                            = 1001; // 消息不存在，找不到消息
  EC_PLAYER_NOT_EXIST                         = 1002; // 玩家不存在
  EC_CHANNEL_NOT_EXIST                        = 1003; // channel 不存在
  EC_FRIEND_NOT_EXISTS                        = 1004; // 好友不存在
  EC_PLAYER_LOGIN_BANNED_IN_TRADE             = 1005; // 账号正在交易中，暂时无法登录，请稍后再试
  EC_PLAYER_TRADED_BAN_SEND_PRIVATE_CHAT      = 1006; // 该账号刚完成交易，暂时无法进行私聊
  //发送消息相关错误码
  EC_SEND_MSG_USER_BLACK_EXIST                = 1100; // 对方在自己黑名单中无法发送消息
  EC_SEND_MSG_TARGET_BLACK_EXIST              = 1101; // 自己在对方黑名单中无法发送消息
  EC_SEND_MSG_TARGET_CLOSE_NOT_FRIEND_MSG     = 1102; // 对方屏蔽了非好友玩家私信
  EC_SEND_MSG_NOT_ALLOWED                     = 1103; // 限制玩家在该频道发言
  EC_SEND_MSG_LENGTH_LIMIT                    = 1104; // 消息长度超过限制
  EC_SEND_MSG_TARGET_AT_NOT_FRIEND_MSG        = 1105; // 开启免打扰后群内@非好友聊天
  EC_SEND_MSG_FREQUENCY_LIMIT                 = 1106; // 接口频率限制 发消息
  EC_SEND_MSG_RISK                            = 1107; // 发送消息触发风险告警(被风控拦截)
  EC_SEND_MSG_IN_MUTE                         = 1108; // 玩家禁言
  EC_SEND_MSG_TOO_LARGE                       = 1109; // 玩家发送消息内容超过上限（图片，语音包括在内，不能超过2M）
  EC_SEND_MSG_GEAR_PROHIBITED                 = 1110; // 发送失败，gear检查到消息包含敏感消息"
  EC_SEND_MSG_GEAR_CENSOR_FAILED              = 1111; // gear错误, 内容安全api失败
  EC_SEND_MSG_GEAR_SUGGESTION_ERROR           = 1112; // gear返回suggestion错误
  EC_SEND_MSG_RISK_SILENCE                    = 1113; // 拦截发言，并不提醒玩家(需要客户端静默处理)
  EC_SEND_MSG_RISK_FAIL                       = 1114; // 风控熔断或者其他错误(1.4.1已从核心链路中剥离)
  EC_SEND_MSG_INPUT_NOT_EMPTY                 = 1115; // 输入内容不能为空
  EC_SEND_MSG_RATE_LIMIT_MINUTE               = 1116; // 发消息接口频率限制，每M分钟N次
  EC_SEND_MSG_RATE_LIMIT_HOUR                 = 1117; // 发消息接口频率限制，每M分钟N次
  EC_SEND_MSG_RISK_LEVEL_NOT_CONFIG           = 1118; // 风控等级未配置
  //撤回消息相关错误码
  EC_RECALL_MSG_NOT_EXIST                     = 1150; // 撤回的消息不存在
  EC_RECALL_MSG_TOO_LATE                      = 1151; // 要撤回的消息已经超过了可撤回时间
  EC_RECALL_MSG_ALREADY_RECALLED              = 1152; // 重复撤回消息
  EC_RECALL_MSG_NOT_BE_NOTIFICATION           = 1153; // 不能撤回系统消息
  EC_RECALL_MSG_SENDER_NOT_MATCH              = 1154; // 只能撤回自己发送的消息
  //消息拉取
  EC_GET_MSG_RANGE_EXCEED_LAST_ID             = 1160; // 拉取消息range超过last_msg_id
  //表情反馈相关错误码
  EC_MSG_EMOJI_ALREADY_ADDED                  = 1170; // 用户已经对该消息添加过此表情
  EC_MSG_EMOJI_ALREADY_REMOVED                = 1171; // 用户已经移除过此表情
  EC_MSG_EMOJI_NOT_ADDED                      = 1172; // 用户还未添加过该表情
  EC_MSG_EMOJI_TOO_FREQUENT                   = 1173; // 该表情反馈太频繁，请稍后再试
  EC_MSG_CONTENT_TYPE_NOT_SUPPORT_REF         = 1174; // 该消息类型不支持引用
  EC_MSG_CHANNEL_TYPE_NOT_SUPPORT_MENTION     = 1175; // 该频道类型不支持@
  EC_MSG_MENTION_USER_NOT_EXIST               = 1176; // 被@的玩家不存在
  EC_MSG_MENTION_USER_NOT_IN_GROUP            = 1177; // 被@的玩家不在群里
  //消息删除
  EC_MSG_ALREADY_DELETED                      = 1180; // 该消息已经被删除
  //举报接口错误
  EC_MSG_REPORT_API_ERROR                     = 1181; // 举报接口错误(举报消息失败， 请稍后重试)
  EC_MSG_REPORT_CONTENT_TYPE_INVALID          = 1182; // 举报消息类型错误
  // channel成员相关错误码
  EC_CHANNEL_MEMBER_EXCEED_LIMIT              = 1200; // 人数超限制
  EC_CHANNEL_MEMBER_NO_SUPPORT_QUERY          = 1201; // 频道不支持查询群成员
  EC_CHANNEL_MEMBER_REMOVE_NOT_EXIST          = 1202; // 移出的玩家不在群里
  EC_CHANNEL_MEMBER_ADD_EXIST                 = 1203; // 添加的玩家已存在
  EC_CHANNEL_MEMBER_REMOVE_NOT_PREM           = 1204; // 没有权限移出玩家
  EC_CHANNEL_MEMBER_ADD_NOT_PREM              = 1205; // 没有权限添加玩家
  // 自建群相关错误码
  EC_CHANNEL_NAME_RISK                        = 1210; // 群聊名字含有敏感信息
  EC_CHANNEL_AVATAR_RISK                      = 1211; // 群聊头像含有敏感信息
  EC_CUSTOM_GROUP_COUNT_LIMIT                 = 1212; // 自建群数量超过限制
  //好友相关错误码
  EC_FRIEND_REQUEST_ALREADY_FRIENDS           = 1300; // 已经是好友了
  EC_FRIEND_REQUEST_EXIST                     = 1301; // 重复发送好友申请
  EC_FRIEND_REQUEST_NOT_EXIST                 = 1302; // 好友申请不存在
  EC_FRIEND_REQUEST_USER_BLACK_EXIST          = 1303; // 对方在自己黑名单中无法发送好友申请
  EC_FRIEND_REQUEST_TARGET_BLACK_EXIST        = 1304; // 自己在对方黑名单中无法发送好友申请
  EC_FRIEND_REQUEST_FREQUENCY_LIMIT           = 1305; // 接口频率限制 发好友申请
  EC_FRIEND_REQUESTS_NUM_LIMIT_EXCEED         = 1306; // 玩家好友请求数已经达到配置最大限制
  EC_FRIEND_NUM_LIMIT_EXCEED                  = 1307; // 玩家好友数已经达到配置最大限制
  EC_FRIEND_IS_GAME_MANAGED                   = 1308; // 玩家好友关系由游戏管理
  //黑名单相关错误码
  EC_BLACK_NUM_LIMIT_EXCEED                   = 1350; // 玩家黑名单数已经达到配置最大限制
  EC_BLACK_TARGET_ALREADY_ADDED               = 1351; // 目标玩家已经被加入到黑名单
  EC_BLACK_TARGET_NOT_IN_LIST                 = 1352; // 玩家不在黑名单
  EC_BLACK_IS_GAME_MANAGED                    = 1353; // 玩家黑名单由游戏管理
  //其他错误码
  EC_SERVER_INTERNAL_ERROR                    = 1500; // 系统内部错误
  EC_COMMON_FREQUENCY_LIMIT                   = 1501; // 接口频率限制
  EC_TRANSLATE_CONFIG_ERROR                   = 1502; // IM翻译配置错误
  EC_TRANSLATE_SERVER_ERROR                   = 1503; // 翻译服务器错误
  EC_FEATURE_IS_FIXED                         = 1504; // 功能维护中
  EC_FAU_CONFIG_ERROR                         = 1505; // fau配置错误
  EC_JUEMING_CONFIG_ERROR                     = 1506; // 决明举报配置错误
  EC_HBASE_CAS_NOT_APPLIED                    = 1507; // hbase cas冲突，业务层可重试
  //校验相关错误码
  EC_IM_ENV_INVALID                           = 1551; // env验证失败
  EC_IM_TOKEN_INVALID                         = 1552; // imtoken验证失败
  //本地化错误保底提示信息:系统异常，请稍后重试
  EC_LAST_LOCAL_ERROR_MSG                     = 1599; //仅用于做本地化翻译的key,客户端忽略
  // 公告相关
  EC_SLG_NOTICE_NOT_EXIST                     = 1600; // 公告消息不存在
  EC_SLG_NOTICE_ALREADY_PUBLISHED             = 1601; // 公告已发布，请不要重复操作
  EC_SLG_NOTICE_PUBLISH_CD_NOT_OVER           = 1602; // 公告发布冷却中，请稍后再试  
  EC_SLG_NOTICE_IS_MARKED                     = 1603; // 公告消息已标记
  EC_SLG_NOTICE_IS_UNMARKED                   = 1604; // 公告消息未标记
  EC_SLG_NOTICE_ALREADY_DELETED               = 1605; // 公告消息已删除
  EC_SLG_NOTICE_DATA_NOT_EXIST                = 1606; // 公告数据不存在,无法操作
  EC_SLG_NOTICE_VOTE_DATA_NOT_EXIST           = 1607; // 投票数据不存在,无法操作
  EC_SLG_NOTICE_VOTE_ALREADY_SUBMITTED        = 1608; // 已投票，不能重复提交
  EC_SLG_NOTICE_VOTE_NOTICE_TYPE_NOT_MATCH    = 1609; // 不是投票公告，无法操作
  EC_SLG_NOTICE_VOTE_TIME_EXPIRED             = 1610; // 投票时间已过期，无法投票
  EC_SLG_NOTICE_VOTE_OPTIONS_NOT_EXIST        = 1611; // 投票选项不存在,无法操作
  EC_SLG_NOTICE_VOTE_MAX_VOTER_COUNT_EXCEEDED = 1612; // 投票人数超过最大投票数，无法投票
  EC_SLG_NOTICE_VOTE_OPTIONS_TOO_MANY         = 1613; // 单选投票不能选择多个选项
  EC_SLG_NOTICE_NOT_LAST                      = 1614; // 不是最后一条公告，请重试
  EC_SLG_NOTICE_PUBLISH_DAILY_MAX_COUNT_EXCEEDED = 1615; // 紧急发布次数超过今天的上限，请明日重试 
  EC_SLG_NOTICE_VOTE_IS_ANONYMOUS_VOTE           = 1616; // 该公告为匿名投票，无法拉取投票信息

}

//error_msg类型
//错误提示的本地化翻译文档
//https://lilithgames.feishu.cn/wiki/FjZLwNXz3iNbA4kc43DcyiCLnfb?sheet=bsAkuW
enum PBErrMsgKind{
  EMK_NULL       = 0; //没有ErrorMsg
  EMK_TRANSLATED = 1; //本地化后的信息:  "1001:玩家好友请求数已经达到配置最大限制"
  EMK_CODE_NAME  = 2; //ErrCode的名字:  "1500:EC_SERVER_INTERNAL_ERROR"
  EMK_CUSTOM     = 3; //自定义的错误信息: "1500:UID must be greater than 0"
}






