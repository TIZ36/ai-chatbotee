syntax = "proto3";
package truck;
import "msg/msg.proto";
import "msg/battle_msg.proto";
import "third/github.com/go-proto-validators/validator.proto";
import "third/github.com/gogo/protobuf/gogoproto/gogo.proto";
import "msg/battle_report.proto";

option go_package = "verse/backend/pb/pb_truck";
option (gogoproto.goproto_getters_all) = false;
//------------------------------------------------------------------------------------------
message Up_Union {
  oneof body {
    option (validator.oneof) = {required: true};
    Up_SendTruck          sendTruck          = 1;
    Up_RefreshGoods       refreshGoods       = 2;
    Up_RobTruck           robTruck           = 3;
    Up_RefreshOtherTrucks refreshOtherTrucks = 4;
    Up_GetOtherTruckDelta getOtherTruckDelta = 5;
    Up_GetTruckReward     getTruckReward     = 6;
    Up_GetTruckDetail     getTruckDetail     = 7;
      //通缉玩家
    Up_ChasePlayer        chasePlayer        = 8;
    //收藏卡车
    Up_CollectTruck       collectTruck       = 9;
    Up_MGetUsummary       mGetUsummary       = 10;
    Up_CreateTruck        createTruck        = 11;
    Up_UnChasePlayer      unChasePlayer      = 12;
    Up_GetFightRecord     getFightRecord     = 13;
    Up_MGetBtMsgs         mGetBtMsgs         = 14;
    Up_CancelCollectTruck cancelCollectTruck = 15;
    Up_GetTruckArmyData   getTruckArmyData   = 16;
    Up_MGetMailBtReport   mGetMailBtReport   = 17;
  }
}

message Dn_Union {
  oneof body {
    Dn_SendTruck          sendTruck          = 1;
    Dn_RefreshGoods       refreshGoods       = 2;
    Dn_RobTruck           robTruck           = 3;
    Dn_RefreshOtherTrucks refreshOtherTrucks = 4;
    Dn_GetOtherTruckDelta getOtherTruckDelta = 5;
    Dn_GetTruckReward     getTruckReward     = 6;
    Dn_GetTruckDetail     getTruckDetail     = 7;
    //通缉玩家
    Dn_ChasePlayer        chasePlayer        = 8;
    //收藏卡车
    Dn_CollectTruck       collectTruck       = 9;
    Dn_MGetUsummary       mGetUsummary       = 10;
    Dn_CreateTruck        createTruck        = 11;
    Dn_UnChasePlayer      unChasePlayer      = 12;
    Dn_GetFightRecord     getFightRecord     = 13;
    Dn_MGetBtMsgs         mGetBtMsgs         = 14;
    Dn_CancelCollectTruck cancelCollectTruck = 15;
    Dn_GetTruckArmyData   getTruckArmyData   = 16;
    Dn_MGetMailBtReport   mGetMailBtReport   = 17;
  }
}

message Up_SendTruck {
  uint32 truckSlot = 1;
  uint32 teamID = 2;
}

message Dn_SendTruck {
  msg.TruckData truckData = 1;
}

message Up_RefreshGoods {
  uint32 truckSlot = 1;
  msg.Cost cost=2;

}

message Dn_RefreshGoods {
  uint32             truckSlot = 1;
  uint32             quality   = 2;
  repeated msg.Asset goods     = 3;
}

message Up_RobTruck {
  string        truckID   = 1;
  msg.Formation formation = 2;

}

message Dn_RobTruck {
  msg.CostReward costReward = 1; // 对战奖励
  string          recordId   = 4; // 战斗记录ID
  msg.BtMsg      btMsg      = 3; // 战斗记录

}

message Up_RefreshOtherTrucks {
}

message Dn_RefreshOtherTrucks {
  repeated msg.OtherTruckData otherTrucks = 1;
}

message Up_GetOtherTruckDelta {
}

message Dn_GetOtherTruckDelta {
  repeated msg.OtherTruckData otherTrucks = 1;
}

message Up_GetTruckReward {
  string truckID = 1;
}

message Dn_GetTruckReward {
  msg.CostReward costReward = 1; // 奖励信息
}

message Up_GetTruckDetail {
  repeated string truckIDs = 1;
}

message Dn_GetTruckDetail {
  map<string, msg.TruckData> truckDatas = 1;
}

message Up_ChasePlayer {
  int64 playerID = 1;
}

message Dn_ChasePlayer {
}

message Up_CollectTruck {
  string truckID = 1;
}

message Dn_CollectTruck {
}

message Up_MGetUsummary {
  repeated int64 uids = 1;
}

message Dn_MGetUsummary {
  repeated msg.USummary uSummaries = 1;
}

message Up_CreateTruck {
  uint32 truckSlot = 1;
}

message Dn_CreateTruck {
  msg.TruckData truckData = 1;
}

message Up_UnChasePlayer {
  int64 playerID = 1;
}

message Dn_UnChasePlayer {
}

message Up_GetFightRecord {
}

message Dn_GetFightRecord {
  repeated msg.TruckFightRecord fightRecords = 1;
}

message Up_MGetBtMsgs {
  repeated string btMsgIDs = 2;
}

message Dn_MGetBtMsgs {
  repeated msg.BtRecord btRecords = 1;
  repeated uint64 atkPowers = 2;
  repeated uint64 defPowers = 3;
}

message Up_CancelCollectTruck {
  string truckID = 1;
}

message Dn_CancelCollectTruck {
}

message Up_GetTruckArmyData {
  string truckID = 1;
  uint32 formationID = 2;
  uint32 targetUID = 3;

}

message Dn_GetTruckArmyData {
  msg.ArmyFormation armyFormation = 1;
}

message Up_MGetMailBtReport {
  repeated string btMsgIDs = 2;
}

message Dn_MGetMailBtReport {
  repeated msg.MailBattleReportContent btMailBattleReport= 1;
}