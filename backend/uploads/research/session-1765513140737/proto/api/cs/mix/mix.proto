// mix 用来放3个以下组合的协议
syntax = "proto3";
package mix;
import "msg/msg.proto";
import "enumx/enumx.proto";
import "third/github.com/go-proto-validators/validator.proto";
import "third/github.com/gogo/protobuf/gogoproto/gogo.proto";

option go_package = "verse/backend/pb/pb_mix";
option (gogoproto.goproto_getters_all) = false;

//------------------------------------------------------------------------------------------
message Up_Union {
  oneof body {
    option (validator.oneof)                             = {required: true};
    Up_Translate               translate               = 1; // 翻译
    Up_SetNotificationSwitches setNotificationSwitches = 2; // 设置推送开关
    Up_ComplainAvatar          complainAvatar          = 3; // 举报头像
    Up_SetSystemSetting        setSystemSetting        = 4; // 设置系统设置
  }
}

message Dn_Union {
  oneof body {
    msg.Empty translate               = 1; // 翻译
    msg.Empty setNotificationSwitches = 2; // 设置推送开关
    msg.Empty complainAvatar          = 3; // 举报头像
    msg.Empty setSystemSetting        = 4; // 设置系统设置
  }
}

//------------------------------------------------------------------------------------------

// 翻译结果走push 异步推送
message Up_Translate {
  string     content    = 1;
  enumx.Lang targetLang = 2;
}

message Up_SetNotificationSwitches {
  repeated msg.UintBoolKV notificationSwitches = 1[(gogoproto.nullable) = false]; // 推送开关列表
}

message Up_SetSystemSetting {
  msg.SystemSetting systemSetting = 1; // 系统设置
}

message Up_ComplainAvatar {
  int64  targetUID = 1; // 目标玩家ID
  string avatarUrl = 2; // 内容
  string reason    = 3; // 原因, 非必填
}
